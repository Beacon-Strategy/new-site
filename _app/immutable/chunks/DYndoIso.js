import{aG as ee,w as q,O as W,e as te,u as se,aH as M,q as $,I as c,i as d,N as ie,a0 as w,z as G,C as re,J as A,H as ne,L as g,aI as D,R as F,aJ as S,aK as E,aL as P,aM as ae,av as C,ax as J,a4 as he,aN as oe,W as k,A as T,ab as le,F as fe,aO as Y,aP as ue,a3 as de,aQ as _e,aR as ce,aS as pe,n as ge,$ as ve,y as K,aT as ye,aU as U,X as x,G as b,B as X,aV as H,aW as I,aX as me,Z as Ee,V as be,aY as Te,p as we,as as Re,K as Ne,aZ as Se,c as Ae}from"./BdhbYc_M.js";function Oe(t){let e=0,i=W(0),r;return()=>{ee()&&(q(i),te(()=>(e===0&&(r=se(()=>t(()=>M(i)))),e+=1,()=>{$(()=>{e-=1,e===0&&(r?.(),r=void 0,M(i))})})))}}var De=de|_e|ce;function Fe(t,e,i){new ke(t,e,i)}class ke{parent;#i=!1;#t;#p=d?c:null;#r;#f;#n;#s=null;#e=null;#a=null;#h=null;#u=0;#o=0;#d=!1;#l=null;#v=()=>{this.#l&&ie(this.#l,this.#u)};#y=Oe(()=>(this.#l=W(this.#u),()=>{this.#l=null}));constructor(e,i,r){this.#t=e,this.#r=i,this.#f=r,this.parent=w.b,this.#i=!!this.#r.pending,this.#n=G(()=>{if(w.b=this,d){const n=this.#p;re(),n.nodeType===A&&n.data===ne?this.#E():this.#m()}else{try{this.#s=g(()=>r(this.#t))}catch(n){this.error(n)}this.#o>0?this.#c():this.#i=!1}},De),d&&(this.#t=c)}#m(){try{this.#s=g(()=>this.#f(this.#t))}catch(e){this.error(e)}this.#i=!1}#E(){const e=this.#r.pending;e&&(this.#e=g(()=>e(this.#t)),D.enqueue(()=>{this.#s=this.#_(()=>(D.ensure(),g(()=>this.#f(this.#t)))),this.#o>0?this.#c():(F(this.#e,()=>{this.#e=null}),this.#i=!1)}))}is_pending(){return this.#i||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#r.pending}#_(e){var i=w,r=C,n=J;S(this.#n),E(this.#n),P(this.#n.ctx);try{return e()}catch(s){return ae(s),null}finally{S(i),E(r),P(n)}}#c(){const e=this.#r.pending;this.#s!==null&&(this.#h=document.createDocumentFragment(),he(this.#s,this.#h)),this.#e===null&&(this.#e=g(()=>e(this.#t)))}#g(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#g(e);return}this.#o+=e,this.#o===0&&(this.#i=!1,this.#e&&F(this.#e,()=>{this.#e=null}),this.#h&&(this.#t.before(this.#h),this.#h=null))}update_pending_count(e){this.#g(e),this.#u+=e,oe.add(this.#v)}get_effect_pending(){return this.#y(),q(this.#l)}error(e){var i=this.#r.onerror;let r=this.#r.failed;if(this.#d||!i&&!r)throw e;this.#s&&(k(this.#s),this.#s=null),this.#e&&(k(this.#e),this.#e=null),this.#a&&(k(this.#a),this.#a=null),d&&(T(this.#p),le(),T(fe()));var n=!1,s=!1;const o=()=>{if(n){pe();return}n=!0,s&&ue(),D.ensure(),this.#u=0,this.#a!==null&&F(this.#a,()=>{this.#a=null}),this.#i=this.has_pending_snippet(),this.#s=this.#_(()=>(this.#d=!1,g(()=>this.#f(this.#t)))),this.#o>0?this.#c():this.#i=!1};var u=C;try{E(null),s=!0,i?.(e,o),s=!1}catch(f){Y(f,this.#n&&this.#n.parent)}finally{E(u)}r&&$(()=>{this.#a=this.#_(()=>{this.#d=!0;try{return g(()=>{r(this.#t,()=>e,()=>o)})}catch(f){return Y(f,this.#n.parent),null}finally{this.#d=!1}})})}}const Ce=["touchstart","touchmove"];function xe(t){return Ce.includes(t)}const Z=new Set,L=new Set;function Ve(t){for(var e=0;e<t.length;e++)Z.add(t[e]);for(var i of L)i(t)}let B=null;function N(t){var e=this,i=e.ownerDocument,r=t.type,n=t.composedPath?.()||[],s=n[0]||t.target;B=t;var o=0,u=B===t&&t.__root;if(u){var f=n.indexOf(u);if(f!==-1&&(e===document||e===window)){t.__root=e;return}var v=n.indexOf(e);if(v===-1)return;f<=v&&(o=f)}if(s=n[o]||t.target,s!==e){ge(t,"currentTarget",{configurable:!0,get(){return s||i}});var O=C,_=w;E(null),S(null);try{for(var a,h=[];s!==null;){var y=s.assignedSlot||s.parentNode||s.host||null;try{var p=s["__"+r];if(p!=null&&(!s.disabled||t.target===s))if(ve(p)){var[z,...Q]=p;z.apply(s,[t,...Q])}else p.call(s,t)}catch(R){a?h.push(R):a=R}if(t.cancelBubble||y===e||y===null)break;s=y}if(a){for(let R of h)queueMicrotask(()=>{throw R});throw a}}finally{t.__root=e,delete t.currentTarget,E(O),S(_)}}}let l;function He(){l=void 0}function Me(t){let e=null,i=d;var r;if(d){for(e=c,l===void 0&&(l=X(document.head));l!==null&&(l.nodeType!==A||l.data!==U);)l=x(l);l===null?b(!1):l=T(x(l))}d||(r=document.head.appendChild(K()));try{G(()=>t(r),ye)}finally{i&&(b(!0),l=c,T(e))}}function Pe(t,e){var i=e==null?"":typeof e=="object"?e+"":e;i!==(t.__t??=t.nodeValue)&&(t.__t=i,t.nodeValue=i+"")}function Ie(t,e){return j(t,e)}function Ye(t,e){H(),e.intro=e.intro??!1;const i=e.target,r=d,n=c;try{for(var s=X(i);s&&(s.nodeType!==A||s.data!==U);)s=x(s);if(!s)throw I;b(!0),T(s);const o=j(t,{...e,anchor:s});return b(!1),o}catch(o){if(o instanceof Error&&o.message.split(`
`).some(u=>u.startsWith("https://svelte.dev/e/")))throw o;return o!==I&&console.warn("Failed to hydrate: ",o),e.recover===!1&&me(),H(),Ee(i),b(!1),Ie(t,e)}finally{b(r),T(n),He()}}const m=new Map;function j(t,{target:e,anchor:i,props:r={},events:n,context:s,intro:o=!0}){H();var u=new Set,f=_=>{for(var a=0;a<_.length;a++){var h=_[a];if(!u.has(h)){u.add(h);var y=xe(h);e.addEventListener(h,N,{passive:y});var p=m.get(h);p===void 0?(document.addEventListener(h,N,{passive:y}),m.set(h,1)):m.set(h,p+1)}}};f(be(Z)),L.add(f);var v=void 0,O=Te(()=>{var _=i??e.appendChild(K());return Fe(_,{pending:()=>{}},a=>{if(s){we({});var h=J;h.c=s}if(n&&(r.$$events=n),d&&Re(a,null),v=t(a,r)||{},d&&(w.nodes_end=c,c===null||c.nodeType!==A||c.data!==Ne))throw Se(),I;s&&Ae()}),()=>{for(var a of u){e.removeEventListener(a,N);var h=m.get(a);--h===0?(document.removeEventListener(a,N),m.delete(a)):m.set(a,h)}L.delete(f),_!==i&&_.parentNode?.removeChild(_)}});return V.set(v,O),v}let V=new WeakMap;function Be(t,e){const i=V.get(t);return i?(V.delete(t),i(e)):Promise.resolve()}export{Me as a,Ve as d,Ye as h,Ie as m,Pe as s,Be as u};
